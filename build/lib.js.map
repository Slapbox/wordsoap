{"version":3,"sources":["/Users/raine/projects/wordsoap/src/lib.js"],"names":["_$862","require","regexes$863","msoAttributes","source","nbsp","conditional","htmlComments","emptyTags","repeatTags","deadTags","regexesCompiled$866","mapValues","a$870","RegExp","clean$869","a$871","replace","module","exports","regexes","regexesCompiled"],"mappings":"AAAA;AAEA,IAAIA,KAAA,GAAIC,OAAA,CAAQ,QAAR,CAAR,CAFA;AAIA,IAAIC,WAAA,GAAU;AAAA,IAKbC;AAAAA;AAAAA;AAAAA,iBAAA,E,4GAA2HC,MAL9G;AAAA,IAObC,IAAA,E,sCAA4CD,MAP/B;AAAA,IAUbE;AAAAA,eAAA,E,wCAAqDF,MAVxC;AAAA,IAYbG,YAAA,E,YAA0BH,MAZb;AAAA,IAcbI,SAAA,E,uCAAkDJ,MAdrC;AAAA,IAgBbK,UAAA,E,sBAAkCL,MAhBrB;AAAA,IAkBbM,QAAA,E,oCAA8CN,MAlBjC;AAAA,CAAd,CAJA;AA2BA,IAAIO;AAAAA,mBAAA,GAAkBX,KAAA,CAAEY,SAAF,CAAYV,WAAZ,EAOJ,UAAAW,KAAA;AAAA,IAP2B,WAAIC,MAAJ,CAO3BD,KAP2B,EAAc,IAAd,EAO3B;AAAA,CAPI,CAAtB,CA3BA;AA6BA,IAAIE,SAAA,GAgEA,UAASC,KAAT,EAAY;AAAA,IAAE,OAAOA,KAAA,CA9DtBC,OA8DsB,CA9DdN,mBAAA,CAAgBR,aA8DF,EA9DiB,MA8DjB,EA7DtBc,OA6DsB,CA7DdN,mBAAA,CAAgBN,IA6DF,EA7DQ,EA6DR,EA5DtBY,OA4DsB,CA5DdN,mBAAA,CAAgBL,WA4DF,EA5De,EA4Df,EA3DtBW,OA2DsB,CA3DdN,mBAAA,CAAgBJ,YA2DF,EA3DgB,EA2DhB,EA1DtBU,OA0DsB,CA1DdN,mBAAA,CAAgBH,SA0DF,EA1Da,EA0Db,EAzDtBS,OAyDsB,CAzDdN,mBAAA,CAAgBD,QAyDF,EAzDY,EAyDZ,EAxDtBO,OAwDsB,CAxDdN,mBAAA,CAAgBF,UAwDF,EAxDc,IAwDd,CAAP,CAAF;AAAA,CAhEhB,CA7BA;AAuCAS,MAAA,CAAOC,OAAP,GAAiBJ,SAAjB,CAvCA;AAwCAG,MAAA,CAAOC,OAAP,CAAeC,OAAf,GAAyBlB,WAAzB,CAxCA;AAyCAgB,MAAA,CAAOC,OAAP,CAAeE,eAAf,GAAiCV,mBAAjC","file":"lib.js","sourcesContent":["'use strict'\n\nvar _ = require('lodash')\n\nvar regexes = {\n\t// Inspired by: http://tim.mackey.ie/2005/11/23/CleanWordHTMLUsingRegularExpressions.aspx\n\t// msoTags: /<[\\/]?(font|span|xml|del|ins|[ovwxp]:\\w+)[^>]*?>/.source,\n\n\t// https://regex101.com/r/lJ0nQ6\n\tmsoAttributes: /<(\\w+)(?:\\s+(?:class|lang|style|size|face|xmlns:\\w+|[ovwxp\\w+]))=(?:'[^']*'|\"\"[^\"\"]*\"\"|[^\\s>]+)(?:[^>]*)>/.source,\n\n\tnbsp: /(<[^\\s>]*>&nbsp;<\\/[^\\s>]*>)|&nbsp;/.source,\n\n\t// https://regex101.com/r/sD4vJ8\n\tconditional: /<!-*\\[\\w+ [^\\]]*]>|<!\\[end[^\\]]*\\]-*>/.source,\n\n\thtmlComments: /<!--.*-->/.source,\n\n\temptyTags: /<(span|a|[ovwxp]:\\w+)[^>]*><\\/[^>]+>/.source,\n\n\trepeatTags: /(?:(<\\/?span>){2,})/.source,\n\n\tdeadTags: /<(xml|head)>[\\S\\s]*<\\/(xml|head)>/.source,\n\n}\n\n// compile the regexes\nvar regexesCompiled = _.mapValues(regexes, λ[new RegExp(#, 'gi')])\n\nvar clean = λ\n\t\t// .replace(new RegExp(r.msoTags, 'gi'), '')\n\t\t.replace(regexesCompiled.msoAttributes, '<$1>')\n\t\t.replace(regexesCompiled.nbsp, '')\n\t\t.replace(regexesCompiled.conditional, '')\n\t\t.replace(regexesCompiled.htmlComments, '')\n\t\t.replace(regexesCompiled.emptyTags, '')\n\t\t.replace(regexesCompiled.deadTags, '')\n\t\t.replace(regexesCompiled.repeatTags, '$1')\n\nmodule.exports = clean\nmodule.exports.regexes = regexes\nmodule.exports.regexesCompiled = regexesCompiled\n"],"sourceRoot":"/source/"}